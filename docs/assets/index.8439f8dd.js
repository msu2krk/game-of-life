(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();const f=document.getElementById("rows-input"),m=document.getElementById("columns-input");f.addEventListener("change",e=>{f.setAttribute("value",e.target.value),s=parseInt(e.target.value)});m.addEventListener("change",e=>{m.setAttribute("value",e.target.value),d=parseInt(e.target.value)});let s=f.getAttribute("value"),d=m.getAttribute("value"),u=!1,v,L=300,i=[s],a=[s];const N=document.getElementById("create-button");N.addEventListener("click",()=>{document.getElementById("world").innerHTML="",A(),y(),h(),console.log("Game board ready!")});const C=document.querySelector("#start-button");C.addEventListener("click",()=>{let e=document.querySelector("#start-button");u?(u=!1,e.innerHTML="Start",console.log("Game stopped!"),clearTimeout(v)):(u=!0,e.innerHTML="Stop",console.log("Let's play!"),E())});const I=document.querySelector("#reset-button");I.addEventListener("click",()=>{location.reload(),console.log("Reload...")});const B=document.querySelector("#random-button");B.addEventListener("click",()=>{A(),y(),h(),document.getElementById("world").innerHTML="",q(),console.log("Random cells are alive.")});function y(){for(let e=0;e<s;e++)i[e]=new Array(d),a[e]=new Array(d)}function h(){for(let e=0;e<s;e++)for(let t=0;t<d;t++)i[e][t]=0,a[e][t]=0}function A(){let e=document.querySelector("#world"),t=document.createElement("table");t.setAttribute("id","worldgrid"),t.setAttribute("class","world__table");for(let n=0;n<s;n++){let o=document.createElement("tr");for(let l=0;l<d;l++){let r=document.createElement("td");r.setAttribute("id",n+"_"+l),r.setAttribute("class","dead"),r.addEventListener("click",b),o.appendChild(r)}t.appendChild(o)}e.appendChild(t)}function b(){let e=this.id.split("_"),t=Number(e[0]),n=Number(e[1]);this.className==="alive"?(this.setAttribute("class","dead"),console.log(`Cell ${this.id} is dead now.`),i[t][n]=0):(this.setAttribute("class","alive"),i[t][n]=1,console.log(`Cell ${this.id} is alive now.`))}function S(e,t){let n=0,o=Number(e),l=Number(t);return o-1>=0&&i[o-1][l]==1&&n++,o-1>=0&&l-1>=0&&i[o-1][l-1]==1&&n++,o-1>=0&&l+1<d&&i[o-1][l+1]==1&&n++,l-1>=0&&i[o][l-1]==1&&n++,l+1<d&&i[o][l+1]==1&&n++,o+1<s&&l-1>=0&&i[o+1][l-1]==1&&n++,o+1<s&&l+1<d&&i[o+1][l+1]==1&&n++,o+1<s&&i[o+1][l]==1&&n++,n}function k(e,t){for(e in i)for(t in i[e]){let n=S(e,t);i[e][t]==1?n<2?a[e][t]=0:n==2||n==3?a[e][t]=1:n>3&&(a[e][t]=0):i[e][t]==0&&n==3&&(a[e][t]=1)}}function G(e,t){for(e in i)for(t in i[e])i[e][t]=a[e][t],a[e][t]=0}function _(e,t){let n="";for(e in i)for(t in i[e])n=document.getElementById(e+"_"+t),i[e][t]==0?n.setAttribute("class","dead"):n.setAttribute("class","alive")}function E(){k(),G(),_(),u&&(v=setTimeout(E,L))}function q(){let e=document.querySelector("#world"),t=document.createElement("table");t.setAttribute("id","worldgrid");for(let n=0;n<s;n++){let o=document.createElement("tr");for(let l=0;l<d;l++){let r=document.createElement("td");Math.random()>.5?(r.setAttribute("id",n+"_"+l),r.setAttribute("class","alive"),r.addEventListener("click",b)):(r.setAttribute("id",n+"_"+l),r.setAttribute("class","dead"),r.addEventListener("click",b)),o.appendChild(r);let c=r.id.split("_"),p=Number(c[0]),g=Number(c[1]);r.className==="alive"?(r.setAttribute("class","alive"),i[p][g]=1):(r.setAttribute("class","dead"),i[p][g]=0)}t.appendChild(o)}e.appendChild(t)}
